\chapter{Estado de la cuestión}
\label{chap:antecedentes}

\drop{E}{}n este capítulo se lleva a cabo una prospección de los sistemas y artículos
que se han efectuado hasta la fecha, de modo que se contextualice el \acs{TFG} en el ámbito 
de la utilización de \acs{UAV}s, en diferentes entornos de la ingeniería civil en general y, más
concretamente, en situaciones de emergencia. Asimismo se analizarán las tecnologías de mayor 
relevancia para el desarrollo e implementación del sistema adaptativo.  

\section{Vehículo aéreo no tripulado}
\label{sec:vehiculonotripulado}

La aviación no tripulada comprende una amplia gama de aeronaves. El origen de estas aeronaves no tripuladas reside 
en la creación de los torpedos aéreos, que después evolucionaron a través de las bombas guiadas, los blancos 
aéreos (o drones), los señuelos, los modelos deportivos de radiocontrol, las aeronaves de investigación, 
las aeronaves de reconocimiento y las aeronaves de combate.

Un \acs{UAV} es «un vehículo aéreo motorizado \textbf{i)} que no lleva a bordo a un operador humano, 
\textbf{ii)} que utiliza las fuerzas aerodinámicas para proporcionar la elevación del vehículo, \textbf{iii)} que puede volar autónomamente 
o ser tripulado por control remoto, \textbf{iv)} que puede ser sustituido o recuperado, y \textbf{v)} que puede transportar una 
carga letal o no» \cite{UAV}. Dada esta definición quedan excluidos:

\begin{itemize}
\item Los planeadores, debido a que no usan una planta propulsora.
\item Los globos y dirigibles, ya que no se elevan mediante fuerzas aerodinámicas sino mediante fuerzas de flotabilidad.
\item Los misiles balísticos, misiles de crucero y proyectiles de artillería.
\end{itemize}

La palabra \acs{UAV} se comienza a hacer frecuente en los años 90 para representar a las aeronaves robóticas 
y así, reemplazar el término vehículo aéreo pilotado remotamente o \acs{RPV}. \acs{UAV} y \acs{RPV} no son más 
que dos nombres entre aproximadamente la docena que han recibido las aeronaves robóticas no tripuladas a lo largo de la historia (ver Figura~\ref{fig:cronologia}).

«En el año 2011 la Organización de Aviación Civil Internacional, organismo especializado de las Naciones 
Unidas para la aviación civil y del cual España forma parte al haber suscrito el Convenio de Chicago de 1944, 
publicó su Circular 328 en la cual por vez primera reconoce a las aeronaves no tripuladas como aeronaves, 
con todo lo que ello trae consigo, y de entre todas las posibles tipologías escoge a las que se pilotan de manera 
remota para ser consideradas como aptas para la aviación civil» \cite{dron1}. Así es como se acuñan los términos que a continuación se detallan, y que en la actualidad tienen una validez internacional y practicamente única en todos los ámbitos. Estos términos son:

\begin{itemize}
\item \textbf{Aeronave pilotada remotamente} o \textbf{\acs{RPA}}: aeronave en la que el piloto al mando no está a bordo.
\item \textbf{Sistema de aeronave pilotada remotamente} o \textbf{\acs{RPAS}}: conjunto de elementos configurables formado por un \acs{RPA}, 
una estación de pilotaje remoto asociada o \acs{RPS}, un sistema de enlace de mando y cualquier otro elemento requerido en cualquier 
punto durante la operación del vuelo.
\end{itemize}

\begin{figure}[!h]
\begin{center}
\includegraphics[width=0.8\textwidth]{/cronologia1.jpg}
\caption[Cronología de los nombres aplicados a las aeronaves robóticas]{Cronología de los nombres aplicados a las aeronaves robóticas \footnotemark}
\label{fig:cronologia}
\end{center}
\end{figure}

\footnotetext{Los acrónimos no especificados se corresponden con: UMA = Unmanned Aircraft, 
APV = Automatically Piloted Vehicle, UTA = Unmanned Tactical Aircraft, UCAV = Unmanned Combat Air Vehicle, 
ROA = Remotely Operated Aircraft.}

\subsection{Nacimiento y desarrollo de aeronaves pilotadas por control remoto}
\label{sec:historia}

Los europeos fueron pioneros en concebir los principios de la aeronáutica y, al 
tratar de emplearlos en aeronaves, volaron modelos no tripulados que pueden ser los primeros vehículos 
aéreos no tripulados de la historia. Precursores de la aviación en distintos países siguieron una progresión que va de los
planeadores a los aviones propulsados no tripulados, y de los vuelos no tripulados a los
tripulados (ver Cuadro~\ref{tab:pioneros}). Su limitación tecnológica, no disponer de un motor con suficiente relación potencia-peso, 
impidió que sus diseños pudieran mantenerse en el aire.

\begin{table}[htb]
  \centering
  {\small
  \input{tables/pioneros.tex}
  }
  \caption[Primeros vuelos conocidos en diversos países]
  {Primeros vuelos conocidos en diversos países \cite{dron1}}
  \label{tab:pioneros}
\end{table}

Durante la \textbf{Primera Guerra Mundial}, la aviación no tripulada se veía entorpecida por la falta de progreso tecnológico. 
Los obstáculos se encontraban en los problemas de estabilización automática, control remoto y navegación autónoma. Fue Elmer Sperry el primero en resolver estos inconvenientes en una aeronave no tripulada. Elmer Sperry creó un giroestabilizador para un avión en \textbf{1909}, que tenía un rendimiento mediocre y era demasiado pesado. Ayudado por Glenn Hammond Curtiss optimizó su invento, que ahora era 
más pequeño y permitía controlar el avión en los tres ejes.

En \textbf{1916} se realiza la primera demostración del mecanismo de Sperry para guiar un avión convencional, 
el Hewitt-Sperry Automatic Airplane. Para efectuar la prueba, el aviador debía levantar el vuelo antes de activar el piloto automático. Después el avión volaba una ruta previamente programada y picaba. El piloto recuperaba el control de la aeronave en dicho momento y retornaba al aeródromo.

Finalmente, tras dos años de intentos fallidos, el torpedo aéreo de Sperry (ver Figura~\ref{fig:hewittsperry}) hizo un vuelo de 900 metros, el \textbf{6 de marzo de 1918}, siendo el primer viaje exitoso de un avión no tripulado en la historia. Su método de guiado para llegar al objetivo era primitivo pero ingenioso. Una vez que se conocía el viento y la distancia al objetivo, se calculaban las revoluciones necesarias para acertar en el blanco. Una vez alcanzadas las revoluciones precisas, se separaban las alas del fuselaje, dejando caer el torpedo sobre el objetivo.

\begin{figure}[!h]
\begin{center}
\includegraphics[width=0.8\textwidth]{/Hewitt-Sperry.jpg}
\caption[Torpedo aéreo de Sperry]{Torpedo aéreo de Sperry}
\label{fig:hewittsperry}
\end{center}
\end{figure}

Los primeros sistemas fueron creados como armamento de largo alcance en artefactos tales como el torpedo aéreo de Sperry, mencionado anteriormente, y el blanco aéreo británico Aerial Target. El Aerial Target era un monoplano, sin piloto, controlado por radio que sirvió para verificar la viabilidad de utilizar señales de radio como sistema de guiado.

En el transcurso de la \textbf{Segunda Guerra Mundial}, Gran Bretaña abandonó la elaboración de misiles de crucero y se introdujo en el sector de los blancos aéreos con control completo por radio, a pesar de que el alcance era muy limitado.
En paralelo en Estados Unidos se fabricó el RP-4 (ver Figura~\ref{fig:rp4}) de Radioplane Company. A través de estos aviones, se fue perfeccionando la tecnología y el uso del control remoto por radio (ver Figura~\ref{fig:controlador}).

\begin{figure}[!h]
\begin{center}
\includegraphics[width=0.8\textwidth]{/rp4.jpeg}
\caption[RP-4 listo para volar]{RP-4 listo para volar}
\label{fig:rp4}
\end{center}
\end{figure}


\begin{figure}[!h]
\begin{center}
\includegraphics[width=0.65\textwidth]{/rp4controlador.jpeg}
\caption[Controlador de vuelo]{Controlador de vuelo}
\label{fig:controlador}
\end{center}
\end{figure}

En la \textbf{Posguerra} de la \textbf{Segunda Guerra Mundial}, la compañía Northrop produjo una serie de blancos aéreos no tripulados, llamados Falconer (ver Figura~\ref{fig:northrop}), que llevaban integrados sistemas de radiocontrol más modernos. 
Otra aplicación relevante durante la \textbf{Posguerra} fue la de señuelos antirradar (ver Figura~\ref{fig:northrop}). Estos eran soltados desde bombarderos, donde también eran controlados por radio con la ayuda de imágenes de vídeo, con la finalidad de confundir a los sistemas radar enemigos.

\begin{figure}[!h]
\begin{center}
\subfigure[Northrop Falconer]{\includegraphics[width=0.6\textwidth]{/falconer.jpg}}
\subfigure[Señuelo antirradar Northrop Crossbow]{\includegraphics[width=0.3\textwidth]{/crossbow.jpg}}
\caption[Aeronaves no tripuladas de la compañia Northrop]{Aeronaves no tripuladas de la compañia Northrop}
\label{fig:northrop}
\end{center}
\end{figure}

Con la aparición de aviones militares con sistemas de propulsión a reacción, a lo largo de \textbf{1960}
se fabricaron blancos aéreos más rápidos y con mayor alcance (ver Figura~\ref{fig:ryanfirebee}). De esta manera, eran más difíciles de detectar y de derribar que los aviones de reconocimiento tripulados y, adicionalmente, no provocarían incidentes diplomáticos asociados con la captura de un piloto. 
Posteriormente estos \acs{UAV}s fueron equipados con cámaras para misiones de reconocimiento, revelando las fotos en la base cuando el \acs{UAV} regresaba. Algunos incluso incorporaron buscadores de radiación y cabezas de combate antirradar.

\begin{figure}[!h]
\begin{center}
\includegraphics[width=0.8\textwidth]{/ryanfirebee.jpg}
\caption[Ryan Firebee]{Ryan Firebee}
\label{fig:ryanfirebee}
\end{center}
\end{figure}

Los \textbf{años 70} iban a ser testigos de la inclusión de \acs{UAS} en misiones de 
reconocimiento y vigilancia tanto de corto alcance, como de largo alcance y elevada altitud. Fueron sistemas 
más complejos tanto en los requisitos de la misión como en la seguridad en las comunicaciones.

En \textbf{1980} se creó un sistema en el que el \acs{UAV} se lanzaba desde una rampa (ver Figura~\ref{fig:cl89}) y se rescataba con un paracaídas y un airbag. 
Cuando se realizaban análisis diurnos el \acs{UAV} estaba equipado con una cámara convencional más una cámara de infrarrojos y para los análisis nocturnos únicamente se equipaba la cámara infrarroja. El guiado se llevaba a cabo mediante la preprogramación de un autopiloto basándose en giróscopos verticales y direccionales, información de altímetros y anemómetros barométricos. 
Además, transportaba un transmisor de video que podía enviar imágenes, en tiempo real, a la estación de control 
en tierra, estando a 70 km de la base.

\begin{figure}[!h]
\begin{center}
\includegraphics[width=0.8\textwidth]{/cl-289-09.jpg}
\caption[Lanzamiento del Canadair CL-89]{Lanzamiento del Canadair CL-89}
\label{fig:cl89}
\end{center}
\end{figure}

En los \textbf{años 90} con la mayor disponibilidad del \acs{GPS} y de las comunicaciones vía satélite se consigue que los \acs{UAS} puedan operar por encima de la señal de radio y que puedan abandonar el uso de sistemas de navegación imprecisos basados en giróscopos y
datos de aire. Es así como, junto con los sistemas digitales de control de vuelo o \acs{DFCS}, el alcance y la precisión de la navegación mejoraron apreciablemente. 
Como resultado se desarrollaron sistemas de medio y largo alcance. 

En la \textbf{década de los 2000} se produce un incremento en el uso militar de los sistemas no tripulados. 
Por otro lado, las posibles aplicaciones civiles no han fructificado debido a la dificultad a la hora de asegurar la 
separación entre las aeronaves tripuladas y no tripuladas.
Otro paso adelante en esta década fue la instalación de armamento en \acs{UAV}s para una respuesta inmediata ante el posible 
descubrimiento de fuerzas enemigas.
Otras líneas de avance, en este periodo de tiempo, son las que tratan de aumentar la automatización, reduciendo así
la carga de trabajo y los errores de las tripulaciones en tierra.

\textbf{Más allá del 2010} el mercado militar de los \acs{RPAS} continúa con una tendencia positiva desde el final de la Guerra Fría y se espera que se acelere en las primeras décadas del siglo XXI.

La tendencia comercial en el mercado de la robótica está también en constante crecimiento (ver Figura~\ref{fig:prevision}). Como consecuencia de esta corriente, la tecnología está apoyando estas tendencias con microprocesadores cada vez más baratos y competentes que incentiven su utilización.

\begin{figure}[!h]
\begin{center}
\includegraphics[width=0.8\textwidth]{/DCA-15-chart.png}
\caption[Previsión de ingresos por regiones en el periodo 2015-2025]{Previsión de ingresos por regiones en el periodo 2015-2025 \cite{cuotamercado}}
\label{fig:prevision}
\end{center}
\end{figure}

\subsection{Tipos de aeronaves pilotadas por control remoto}
\label{sec:tipos}

En conformidad con la Organización de Aviación Civil Internacional, «El hecho de que la aeronave sea tripulada o no tripulada no afecta su condición de aeronave. Cada categoría de aeronave tendrá posiblemente versiones no tripuladas en el futuro.
Este punto es fundamental para todos los aspectos futuros relativos a las \acs{UA} y proporciona la base para tratar la aeronavegabilidad, el otorgamiento de licencias al personal, las normas de separación, etc.» \cite{OACI}. En otras palabras, las aeronaves no tripuladas son, en primer lugar, aeronaves, por lo que están sujetas a las mismas normas y restricciones que las aeronaves tripuladas.

Existen múltiples formas de clasificar las aeronaves, pero lo habitual es utilizar una clasificación atendiendo al modo en la que las aeronaves consiguen su sustentación en la atmósfera. A continuación se propone una clasificación en la que se presenta los principales tipos de aeronaves:  

\begin{itemize}
\item \textbf{Aerostato}: Más ligeros que el aire.
	\begin{itemize}
	\item Globo aerostático.
	\item Dirigible.
	\end{itemize}
\item \textbf{Aerodino}: Más pesados que el aire.
	\begin{itemize}
	\item \textbf{Ala fija}.
		\begin{itemize}
		\item Avión.
		\item Planeador.
		\item Ala delta.
		\item Parapente.
		\item Paramotor.
		\end{itemize}
	\item \textbf{Ala rotatoria}.
		\begin{itemize}
		\item Helicóptero.
		\item Multirrotor.
		\item Autogiro.
		\end{itemize}
	\end{itemize}
\end{itemize}

Por otra parte, aparecen aeronaves de nuevas clases, como los híbridos, que ejecutan parte del vuelo haciendo uso del método de ala rotatoria, generalmente en el despegue y aterrizaje, realizando un salto al uso de ala fija para dirigirse de forma rápida y eficiente a su destino.

El uso de vehículos aéreos no tripulados ha alcanzado un grado de madurez significativo en el terreno militar. Tanto es así, que 
en el ejército norteamericano constituyen cerca de un tercio de la flota de aeronaves, desempeñando en exclusiva las misiones 
de inteligencia, vigilancia y reconocimiento que deben cumplir las fuerzas armadas. «De acuerdo con la consultora de defensa Teal Group Corporation \footnote{\url{http://www.tealgroup.com}}, el inventario a 1 de enero de 2013 de sistemas aéreos no tripulados contaba con 10.730 \acs{UAS} [...], de lo que se deduce que en el ámbito militar la preponderancia de los sistemas de ala fija (ver Figura~\ref{fig:alafija}) es casi absoluta (97\%)» \cite{dron2}.


\begin{figure}[!h]
\begin{center}
\includegraphics[width=0.73\textwidth]{/alafija.jpg}
\caption[Sistema de ala fija]{Ala fija}
\label{fig:alafija}
\end{center}
\end{figure}

En el ámbito civil, mucho menos avanzado que el militar, la situación es la contraria. «De acuerdo con la información suministrada por la Dirección General de la Aviación Civil francesa \footnote{\url{http://www.developpement-durable.gouv.fr/-Secteur-Aerien,1633-.html}} (DGAC) referida a las autorizaciones otorgadas hasta octubre de 2013, [...] los sistemas basados en aeronaves de ala rotatoria superan ampliamente
a los de otros tipos, si bien no de forma tan aplastante como ocurre en el mundo militar, ya que sólo suponen un 76\% del total» \cite{dron2}.

Esta inclinación, hacia las aeronaves multirrotor (ver Figura~\ref{fig:multirrotor}) en el entorno civil, se debe a que son altamente apropiadas para la principal actividad desempeñada en estos momentos, la toma de imágenes y videos, que según las estimaciones de la Asociación Española de RPAS \footnote{\url{http://www.aerpas.es/}} constituyen posiblemente más del 90\% de las tareas ejecutadas por drones \cite{AERPAS}, al igual que ocurre en otros países europeos.

\begin{figure}[!h]
\begin{center}
\includegraphics[width=0.8\textwidth]{/multicopter.jpg}
\caption[Sistema multirrotor]{Multirrotor}
\label{fig:multirrotor}
\end{center}
\end{figure}

Las principales ventajas de los multirrotores son las siguientes:

\begin{itemize}
\item \textbf{Despegue y aterrizaje vertical}: que minimiza las necesidades del espacio requerido en tierra para su puesta en marcha	.
\item La posibilidad de \textbf{volar a punto fijo} o \textbf{a muy baja velocidad}: lo cual resulta idóneo para software en la que la observación sea un requisito vital.
\item Mayor \textbf{maniobrabilidad} y \textbf{precisión} de vuelo: mientras que los sistemas de ala fija siguen rutas curvilíneas, los multirrotores son capaces de volar siguiendo cualquier trayectoria deseada en las tres dimensiones.
\item Su diseño les permite acarrear \textbf{cargas más voluminosas}, en relación con su propio tamaño, que los aviones.
\end{itemize}

Por el contrario, los multirrotores tienen una serie de desventajas frente a los sistemas de ala fija:

\begin{itemize}
\item Son \textbf{menos eficientes}: lo que provoca que aunque tenga el mismo tamaño, la autonomía sea menor.
\item Vuelan a \textbf{menor velocidad}: lo que combinado con su menor autonomía significa que pueden cubrir un área mucho menor.
\item Tienen una \textbf{huella sonora sensiblemente mayor}, por lo que resultan poco indicados para operaciones de vigilancia.
\end{itemize}

A la vista de lo expuesto anteriormente se justifica que los multirrotores dominen hoy en día el mercado, 
«si bien es previsible que en el futuro, a medida que se desarrollen aplicaciones de ejecución más complejas, cubriendo 
mayores distancias y desarrolladas a mayor altura sobre el terreno, al igual que ocurre en el caso militar, los sistemas de ala 
fija aumentarán su peso» \cite{dron2}.

\subsection{Modos de operación en el guiado de una aeronave no tripulada}
\label{sec:mododeoperacion}

Sólo existen cuatro modos de operación en cuanto a la manera de guiar una aeronave de forma remota, 
con un grado de automatización creciente:

\begin{itemize}
\item \textbf{Modo manual}: el piloto remoto actúa sobre las superficies de control y la potencia de los motores, 
a través de una emisora de radiocontrol.
\item \textbf{Modo asistido}: similar al modo manual, pero el piloto remoto no interviene directamente sobre las superficies de 
control o los motores, sino que indica sus intenciones (girar a la derecha, subir, etc.), desde el puesto de radiocontrol, y el 
autopiloto las transforma en actuaciones que logren ese propósito.
\item \textbf{Modo automático}: el piloto remoto traza un plan de vuelo, es decir, un número de puntos de paso o «waypoints» antes del 
inicio del vuelo. La aeronave dispone de un piloto automático que sigue el plan previsto, realizando automáticamente las acciones 
requeridas en cada momento. Aun así el piloto mantiene el control en todo momento, pudiendo modificar los puntos de paso durante el vuelo, ejecutar maniobras predeterminadas (como por ejemplo la «vuelta a casa») o incluso tomar el control directamente.
\item \textbf{Modo autónomo}: es semejante al modo automático, en cuanto que se establece un plan de vuelo con anterioridad, 
pero una vez iniciado el vuelo se continúa con el plan de forma completamente autónoma, sin precisar la intervención del piloto 
incluso en caso de producirse situaciones de emergencia.
\end{itemize}

Es obvio que el modo manual y el modo asistido requieren que la aeronave se encuentre a la vista del piloto o, que al menos, 
transmita información suficiente para que el piloto posea el conocimiento necesario de la situación y del escenario como para poder tomar las decisiones adecuadas. Por ello, el uso de estos modos suele estar restringido a las circunstancias de vuelo en línea de vista visual o \acs{VLOS}.

Se destaca el hecho de que el modo manual se utiliza normalmente en las aeronaves de ala fija. Las de ala rotatoria, 
sobre todo los multirrotores, suelen utilizar el modo asistido, por la dificultad que implica el coordinar todas las acciones 
para mantener la aeronave estabilizada y ejecutar las maniobras deseadas. En ambos casos es necesaria una considerable destreza 
por parte del piloto para controlar la aeronave desde tierra.

Por esta razón existe una tendencia a utilizar de forma exclusiva \acs{RPAS} en modo automático, o por lo menos en una forma de modo 
asistido en la que el piloto recibe una imagen tomada por una cámara dirigida hacia adelante, denominada visión en primera persona 
o \acs{FPV}, lo que le permite actuar como si estuviera embarcado en ella. Este modo resulta también muy indicado en vuelos en línea de vista para misiones rutinarias. La principal ventaja que proporciona el modo automático es la posibilidad de utilizar pilotos de menor capacitación y, por lo tanto, de reducir el coste de operación.

\subsection{Visión por computador en \acs{UAV}s}
\label{sec:visionporcomputador}

«La \textbf{visión por computador} es un campo de la inteligencia artificial en el que se busca, a través de lenguajes de programación, que un computador sea capaz de identificar y ejecutar órdenes con el reconocimiento de ciertas características de imágenes, imágenes completas o secuencias de éstas» \cite{visionporcomputador}.

Los sistemas de visión artificial están formados por: 
\begin{itemize}
\item Una \textbf{fuente de luz}.
\item Un \textbf{sensor de imagen} que capture las imágenes que después se procesan.
\item Una \textbf{tarjeta de adquisición de imágenes}, como interfaz entre sensor y el computador.
\item Una serie de \textbf{algoritmos de análisis} en los que se procesan, segmentan y se aplican las transformaciones necesarias para obtener los resultados deseados. 
\item Un \textbf{procesador} que analice las imágenes recibidas ejecutando los algoritmos diseñados. 
\item Un \textbf{sistema de respuesta} a tiempo real que ejecute los comandos.
\end{itemize}

El ser humano percibe la luz gracias a los ojos y la información captada se traslada al cerebro por el nervio óptico. El cerebro procesa la imagen, analiza la escena y actúa en consecuencia. Los sistemas de visión por computador buscan imitar este comportamiento, para lo cual, se definen cuatro fases (ver Figura~\ref{fig:fasescv}), estas fases son:

\begin{itemize}
\item \textbf{Captura}: se adquieren las imágenes.
\item \textbf{Procesamiento}: se aplican filtros o transformaciones que eliminan partes no deseadas, facilitando las próximas etapas.
\item \textbf{Segmentación}: se abstraen los elementos que interesan del resto de la imagen para su comprensión.
\item \textbf{Reconocimiento}: se distinguen los objetos segmentados haciéndose uso de una serie de características que previamente se han establecido.
\end{itemize}

\begin{figure}[!h]
\begin{center}
\includegraphics[width=0.8\textwidth]{/fasescv.jpg}
\caption[Fases de un sistema de visión por computador]{Fases de un sistema de visión por computador \cite{visionporcomputador}}
\label{fig:fasescv}
\end{center}
\end{figure}

En el campo de los sistemas aéreos no tripulados, la visión por computador es una parte importante para la navegación y el control, 
y en ella se basan numerosas aplicaciones. Los \acs{UAV}s aparecen como una alternativa barata y adecuada en muchas campos
de aplicación, dadas sus capacidades de vuelo y a la posibilidad de integrar sistemas de visión que permiten mejorar determinadas 
tareas como el pilotaje, el guiado autónomo del vehículo o la obtención de imágenes.

En la actualidad, se han desarrollado aplicaciones con vehículos aéreos no tripulados, que hacen uso de la visión por computador, en distintos ámbitos de aplicación como: la gestión del tráfico \cite{controltrafico}, la detección de incendios \cite{incendios} o la evitación de obstáculos \cite{obstaculos}.

\subsection{Aplicaciones en el sector civil}
\label{sec:ingenieriacivil}

Los drones se pueden considerar como robots no antropomorfos con una inmensa autonomía de vuelo y una gran gama de posibilidades  de  aplicación.

Gracias al uso de procesadores electrónicos, de software especializado y \acs{GPS}, las capacidades de  control automático en base a la información procedente de los sensores instalados en las aeronaves, y la rápida reacción correctiva como consecuencia del procesamiento local de la información del estado de vuelo, hacen posible que la retroalimentación aporte un inmenso potencial, minimizando para estos artefactos las posibles desviaciones entre el comportamiento real y el esperado.

Actualmente, y dejando a un lado los usos bélicos tanto defensivos como ofensivos, estos equipos ofrecen amplias posibilidades de aplicación al sector de la ingeniería civil: inspecciones de infraestructuras, investigación atmosférica, levantamientos topográficos, filmación de películas y fotografía deportiva, cultivos de precisión, control de caza, localización de bancos de pesca, mantenimiento de parque eólicos e infraestructuras energéticas, control medioambiental, gestión de riegos y desastres naturales, exploración geológico-minera, etc.

Por otro lado, en los países más avanzados se están impulsando diferentes proyectos de investigación con este tipo de aeronaves no tripuladas, que abarcan desde el ensayo de material aeronáutico en condiciones peligrosas de hielo, viento, lluvia intensa, etc., evitando la exposición a riesgos de los equipos humanos en vuelos tripulados, pasando por el desplazamiento y reparto de grandes cargas e incluso personas en vuelos comerciales en vuelos no tripulados, hasta el desarrollo de tecnologías concretas como son  las  pilas  de  combustible  de  hidrógeno  que  permitirían triplicar la duración de los vuelos, etc.

\section{Herramientas y entornos de desarrollo}
\label{herrmientas}

\subsection{3DR IRIS+}
\label{sec:3driris}

«El \textbf{3DR IRIS+} (ver Figura~\ref{fig:3dririsplus}) es un vehículo aéreo autónomo todo en uno, producido por 3D Robotics\footnote{\url{https://www.3dr.com}}, que se ejecuta sobre el sistema de piloto automático Pixhawk, lo último en electrónica avanzada para el piloto automático desde el proyecto del PX4. Con la ayuda de puntos \acs{GPS} preprogramados es capaz de efectuar operaciones de nivel profesional, como el mapeo, la toma de imágenes con scripts, la investigación científica, y otras aplicaciones donde se requieren planes de vuelo repetitivos» \cite{3driris}. Es concebido como una plataforma de captación de imágenes aéreas potenciado por hardware, software y firmware de código abierto.

El 3DR IRIS+ cuenta con una serie de componentes y especificaciones (ver Cuadro~\ref{tab:especificaciones}) como: GPS integrado, que permite establecer una ruta de antemano o volver a casa en caso de pérdida, o un kit de telemetría que permite obtener información de vuelo como la distancia, altitud, velocidad, nivel de batería e intensidad de la señal \acs{GPS}. Como en cualquier dron, se puede personalizar, y es posible la inclusión de una cámara GoPro Hero si se quiere mejorar la calidad de la imagen.

\begin{figure}[!h]
\begin{center}
\includegraphics[width=0.8\textwidth]{/3driris.jpg}
\caption[3DR IRIS+]{3DR IRIS+}
\label{fig:3dririsplus}
\end{center}
\end{figure}


\begin{table}[htb]
  \centering
  {\small
  \input{tables/especificaciones3dr.tex}
  }
  \caption[Especificaciones técnicas del 3DR IRIS+]
  {Especificaciones técnicas del 3DR IRIS+ \cite{especifaciones3dr}}
  \label{tab:especificaciones}
\end{table}

\subsection{ArduPilot}
\label{sec:ardupilot}

\textbf{ArduPilot} \footnote{\url{http://www.ardupilot.com}} es una plataforma de código abierto para pilotos automáticos, de bajo coste y fácil de usar, creada en 2007 por Chris Anderson y Jordi Muñoz, miembros de la comunidad DIY Drones \footnote{\url{http://diydrones.com}}. Se apoya en la plataforma de prototipado electrónico Arduino \footnote{\url{https://www.arduino.cc/}} y es capaz de controlar multirrotores, aeronaves de ala fija, helicópteros tradicionales y vehículos de exploración terrestre. ArduPilot es una plataforma galardonada en 2012 y 2014 en las competiciones UAV Challenge \footnote{\url{https://www.uavchallenge.org}}.

La primera versión de ArduPilot (ver Figura~\ref{fig:APMHistory}), lanzada en 2009, se basó en una termopila, cuya clave era la determinación de la ubicación del horizonte con respecto al avión por la medición de la diferencia de temperatura entre el cielo y el suelo. Más tarde, el sistema se mejoró reemplazando las termopilas con una unidad de medición inercial y utilizando una combinación de acelerómetros, giróscopos y magnetómetros.

\begin{figure}[!h]
\begin{center}
\includegraphics[width=0.8\textwidth]{/APM-history.jpg}
\caption[Historia de ArduPilot]{Historia de ArduPilot \footnotemark}
\label{fig:APMHistory}
\end{center}
\end{figure}

\footnotetext{\url{http://www.ardupilot.org/copter/docs/common-history-of-ardupilot.html}}

En el presente, el proyecto ArduPilot se sustenta sobre cuatro pilares fundamentales:

\begin{itemize}
\item \textbf{Hardware}: Los sistemas embebidos y sensores periféricos que actúan como el cerebro del vehículo, los ojos, las orejas, etc. Entre ellos se encuentra la línea APM y \textbf{Pixhawk}/PX4 de pilotos automáticos.
\item \textbf{Firmware}: El código que implementa el conjunto de habilidades que se ejecuta en el hardware, configurado para el 
tipo de vehículo que se elija. El firmware elegido puede ser \textbf{ArduCopter}(véase \S\,\ref{sec:arducopter}), ArduPlane o ArduRover.
\item \textbf{Software}: La interfaz con el hardware. Por ejemplo, la aplicación de estación de tierra \textbf{Mission Planner}(Anexar).
\item \textbf{Comunidad}: Un área para el discurso abierto entre los desarrolladores y sus clientes.
\end{itemize}

El enfoque de ArduPilot respecto a su software libre es que el bajo coste y la disponibilidad permitan el uso en pequeños aviones 
pilotados a distancia.

\subsection{ArduCopter}
\label{sec:arducopter}

«\textbf{ArduCopter} \footnote{\url{http://www.arducopter.co.uk}} es el firmware desarrollado por la comunidad del Proyecto ArduPilot que permite el vuelo, y la monitorización, de aeronaves que basan su funcionamiento, generalmente, en motores eléctricos con hélices  que  ejerzan  la  fuerza  actuadora.  Esta característica  reúne  vehículos  aéreos  como  los  quadrotors, hexarotors, trirotors, octarotors o helicópteros» \cite{arducopter}. Ofrece tanto una experiencia mejorada de vuelo por control remoto como la ejecución de misiones totalmente autónomas.

ArduCopter facilita el uso de \acs{UAV}s, de tipo multirrotor o helicoptero, pudiendo ser ejecutado sobre un piloto automático de ArduPilot.
Junto con el uso de un módulo \acs{GPS}, se convierte en una solución completa que lo diferencia de multirrotores tradicionales que sólo 
soportan el control remoto. El firmware ArduCopter proporciona un vuelo totalmente autónomo basado en «waypoints», a través de 
una estación de control terrestre o \acs{GCS}, que permite la planificación de misiones sirviéndose para ello del empleo de telemetría en tiempo real.

Las principales características que ofrece ArduCopter son las siguientes:
\begin{itemize}
\item \textbf{No requiere conocimientos de programación}: para usar ArduCopter solo se debe descargar una utilidad de escritorio, como 
Mission Planner, que cargue el firmware con un solo clic.
\item Uso de \textbf{puntos de ruta ilimitados}.
\item Permite \textbf{mantener el dron en una localización} determinada valiéndose del \acs{GPS} y del sensor de altitud.
\item \textbf{Vuelta a casa} o \textbf{\acs{RTL}}: ArduCopter establece una posición como punto de despegue, de tal modo, que accionado una palanca el dron regresa automáticamente hasta allí.
\item \textbf{Despegue} y \textbf{aterrizaje automático.}
\item \textbf{Control de la cámara} totalmente programable: incluyendo la capacidad para mantener la cámara apuntando a un objeto en el suelo.
\item \textbf{Multiplataforma}: compatible con Windows, Mac y Linux.
\item \textbf{Compatibilidad con los estándares} de robótica líderes en la industria como el protocolo de comunicación MAVLink \footnote{\url{http://www.qgroundcontrol.org/mavlink/start}}.
\end{itemize}

\subsection{DroneKit-Python}
\label{sec:dronekit}

\textbf{DroneKit-Python} \footnote{\url{http://python.dronekit.io/}} es una \acs{API} desarrollada por 3D Robotics, de código abierto y orientada a la comunidad, que permite crear aplicaciones, para vehículos aéreos no tripulados, que se 
ejecutan en un ordenador. Dichas aplicaciones se comunican con el controlador de vuelo ArduPilot, utilizando un enlace de baja latencia, y pueden mejorar significativamente el piloto automático, añadiendo una mayor inteligencia al comportamiento del vehículo o realizando tareas que son computacionalmente intensivas o sensibles al tiempo (por ejemplo, la visión por ordenador o la planificación de trayectorias).

Se comunica con los vehículos por medio del protocolo \textbf{MAVLink}. Proporciona acceso, mediante programación, a la información 
de telemetría, al estado y parámetros de información del vehículo, y permite gestionar las misiones y tener un control directo 
sobre el vehículo. Se ejecuta en Linux, Mac OS X o Windows.

Dronekit-Python proporciona clases y métodos para realizar múltiples funciones, entre otras:
\begin{itemize}
\item \textbf{Conexión} a uno o varios \textbf{vehículos}.
\item \textbf{Obtener y establecer información} sobre el estado del vehículo.
\item Recibir \textbf{notificaciones} asíncronas de los \textbf{cambios de estado}.
\item \textbf{Guiar} un \textbf{\acs{UAV}} hasta una posición especificada.
\item Crear y \textbf{gestionar misiones} gracias a «waypoints».
\item \textbf{Reemplazar} la configuración de los \textbf{canales de radiocontrol}.
\end{itemize}

«Cuando DroneKit no proporciona un comando para una maniobra deseada, se requiere el uso de mensajes personalizados MAVLink.
Cualquier maniobra aérea debe ser capaz de llevarse a cabo a través de una de estas dos interfaces» \cite{dronekit}. 

(Posible anexo sobre buenas practicas propuestas por dronekit)

\subsection{OpenCV}
\label{sec:opencv}

\textbf{OpenCV} \footnote{\url{http://www.opencv.org}} es una biblioteca de funciones de programación, para la visión por computador 
en tiempo real, iniciado en Intel en 1999 por Gary Bradsky. Se encuentra bajo licencia BSD, por lo tanto, es libre tanto en el uso
académico como en el comercial. Posee interfaces en C++, C, Python y Java, y es compatible con Windows, Linux, Android, iOS y Mac OS.
Cuenta con más de 2500 algoritmos optimizados y más de 9 millones de descargas.

«La librería OpenCV está dirigida fundamentalmente a la visión por computador en tiempo real. Entre sus muchas áreas de 
aplicación destacarían: interacción hombre-máquina, segmentación y reconocimiento de objetos, reconocimiento de gestos, 
seguimiento del movimiento, estructura del movimiento y robots móviles» \cite{opencv}.

El  conjunto  de  funciones   suministradas por la librería OpenCV se agrupan en los siguientes bloques: 
\begin{itemize}
\item Estructuras y \textbf{operaciones básicas}: matrices, grafos, árboles, etc.
\item Procesamiento y \textbf{análisis de imágenes}: filtros, momentos, histogramas, etc.
\item \textbf{Análisis estructural}: geometría, procesamiento del contorno, etc.
\item \textbf{Análisis del movimiento} y \textbf{seguimiento de objetos}: plantillas  de  movimiento, seguidores, flujo óptico, etc.
\item \textbf{Reconocimiento de objetos}: objetos propios, modelos \acs{HMM}, etc.
\item \textbf{Calibración de la cámara}: morphing, geometría epipolar, estimación de la pose, etc.
\item \textbf{Reconstrucción tridimensional}: detección de objetos, seguimiento de objetos tridimensionales, etc.
\item Interfaces gráficos de usuarios y \textbf{adquisición de video}.
\end{itemize}

\subsection{Google Cloud Vision API}
\label{sec:visionapi}

\textbf{Google Cloud Vision API} \footnote{\url{https://cloud.google.com/vision/}} permite a los desarrolladores entender el contenido de una imagen, mediante la encapsulación de potentes modelos de aprendizaje automático. Esta REST API clasifica rápidamente las imágenes en miles de categorías, detecta objetos individuales y caras, y encuentra y lee palabras impresas.

Es capaz de detectar conjuntos de objetos en las imágenes, como flores, automóviles, animales u otros de los muchos elementos 
que se encuentran comúnmente dentro de las fotografías. También, puede analizar atributos faciales emocionales de las personas en sus imágenes, como la alegría, la tristeza y la ira. Se encuentra en constante progreso a medida que se introducen nuevos conceptos y se mejora la precisión.

Vision API ofrece las siguientes funcionalidades:
\begin{itemize}
\item \textbf{Detección de etiquetas}: detecta amplios conjuntos de categorías.
\item \textbf{Detección de rostros}: detección de múltiples caras, junto con los atributos faciales claves asociados.
\item \textbf{Detección de contenido explícito}: detecta contenido explícito como contenido para adultos o de contenido violento.
\item \textbf{Atributos de imagen}: detecta los atributos generales de la imagen, como el color dominante.
\item \textbf{Detección de logotipos} populares.
\item \textbf{Detección de interés}: detección de estructuras naturales y artificiales populares.
\item \textbf{Reconocimiento óptico de caracteres}: detecta y extrae el texto, con soporte para una amplia gama de idiomas, junto con el soporte para la identificación automática del lenguaje.
\item \textbf{REST API integrada}: acceso a través de la REST API para solicitar uno o más tipos de detección por imagen.
\end{itemize}

El uso de cada una de estas características conlleva gastos.

\section{Listados de código}
\label{sec:listado}

Puedes referenciar un listado así (ver Listado~\ref{code:hello}). Éste es un
listado flotante, pero también pueden ser «no flotantes» quitando el parámetro
\texttt{float} (mira el fuente de este documento o la referencia del paquete
\href{http://www.ctan.org/get/macros/latex/contrib/listings/listings.pdf}{«listings»}).

\begin{listing}[
  float=ht,
  language = C,
  caption  = {«Hola mundo» en C},
  label    = code:hello]
#include <stdio.h>
int main(int argc, char *argv[]) {
    puts("Hola mundo\n");
}
\end{listing}

\noindent
Puedes incluir un fichero de código fuente (o un fragmento) con \texttt{lstinputlisting}:

\lstinputlisting[language=C, firstline=3, texcl]{code/hello.c}

\noindent
Y también existe un comando \texttt{console} para representar ejecución de
comandos:

\begin{console}
$ uname --operating-system
GNU/Linux
\end{console} %$

Puedes modificar el estilo por defecto para tus listados añadiendo un comando
\texcmd{lstset} en tu \texttt{custom.sty}. El código \LaTeX{} del listado
\ref{code:custom-listings} añade un fondo gris claro y una línea en el margen
izquierdo.

\begin{listing}[
  float=h!,
  caption  = {Personalizando los listados de código},
  label    = code:custom-listings]
\lstset{%
  backgroundcolor = \color{gray95},
  rulesepcolor    = \color{black},
}
\end{listing}

En cualquier caso, si lo necesitas siempre es mejor que redefinas los comandos y entornos
existentes o crees entornos nuevos, en lugar de añadir los mismos cambios en
muchas partes del documento.


\section{Citas y referencias cruzadas}

Puedes ver aquí una cita~\cite{design_patterns} y una referencia a la segunda sección
(véase \S\,. Para hacer referencias debes definir etiquetas en el punto
que quieras referenciar (normalmente justo debajo). Es útil que los nombres de las
etiquetas (comando label) tengan los siguientes prefijos (incluyendo los dos puntos ``:''
del final):

\begin{description}
\item[chap:] para los capítulos. Ej: ``\texttt{chap:objetivos}''.
\item[sec:] para secciones, subsecciones, etc.
\item[fig:] para las figuras.
\item[tab:] para las tablas.
\item[code:] para los listados de código.
\end{description}

Si estás viendo la versión PDF de este documento puedes pinchar la cita o el número de
sección. Son hiper-enlaces que llevan al elemento correspondiente. Todos los elementos que
hacen referencia a otra cosa (figuras, tablas, listados, secciones, capítulos, citas,
páginas web, etc.) son «pinchables» gracias al paquete
\href{http://latex.tugraz.at/_media/docs/hyperref.pdf}{\emph{hyperref}}.

Para citar páginas web usa el comando \texttt{url} como en: \url{http://www.uclm.es}


\section{Páginas}
\label{sec:paginas}

La normativa aconseja imprimir el documento a doble cara, pero si el número de
páginas es bajo puede imprimirse a una cara. Como eso es bastante subjetivo, mi
consejo es que ronde las 100 \textbf{hojas}. Una hoja impresa a doble cara
contiene 2 páginas, a una cara contiene una. Es decir, si el documento tiene más
de 200 páginas imprímelo a doble cara, si tiene menos imprímelo a una.

Por defecto, \esitfg{} imprime a una cara (oneside), si quieres imprimir a doble cara,
escribe en el preámbulo:

\begin{listing}
  \documentclass[twoside]{esi-tfg}
\end{listing}

Esto es importante porque a doble cara los márgenes son simétricos y a una cara
no. Si llevas el TFG a la copistería y pides que te lo impriman de modo
diferente al generado, quedará mal ¡Cuidado!

Tal como indica la normativa, los capítulos siempre empiezan en la página
derecha, la impar cuando se usa doble cara.


% Local Variables:
%  coding: utf-8
%  mode: latex
%  mode: flyspell
%  ispell-local-dictionary: "castellano8"
% End:
